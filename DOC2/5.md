我希望的是业务模式和诊断模式分隔开, 所以FTP是不是无法控制 SR-X300什么时候发送图像数据到GPB, 业务场景下我不希望接收到诊断数据, SR-X300支持吗

可以控制——**FTP/SFTP 并不是“相机随时乱发图像”**。SR-X 系列把“是否保存/是否发送图像”做成了**独立的图像保存功能配置项**，你能做到业务/诊断基本隔离。

## 你担心的点：业务场景不想收到诊断图

### SR-X300 侧本身就支持“按条件发送图像”

手册示例里明确写了：**“读码错误（reading error）时把图像发到 FTP server”**，做法是把 **[Error Image] 设置成 [Send by FTP]**。([Scribd][1])
同时，SR-X 系列的图像保存/发送方法是可选的（Disable / Save to RAM / Send by FTP / Save to ROM / Save ROM + send FTP 等；其中 **Save to ROM / Save ROM + send FTP 是 SR-X300 系列才有**）。([Scribd][1])

这意味着你可以把“业务模式”设置成：

* **OK Image = Disable**
* **NG Image = Disable**
* **Error Image = Disable**（或只 Save to ROM，不发）
* FTP/SFTP 相关参数可以不启用/不配置

然后“诊断模式”才改成：

* **Error Image = Send by FTP（或 Save ROM + send FTP）**
  （这样只在你定义的错误条件下才会异步上传 JPG）

> 也就是说：**业务场景下不会收到任何图像**；只有当你把 Error Image/NG Image 这些开关打开，并且触发对应条件时，才会发图。([Scribd][1])

---

## 如果你想“强隔离”：业务/诊断两套配置，一键切换

SR-X 系列有 **parameter bank（参数库/参数银行）**机制，用于在不同条件间切换参数（常用于不同对比度/不同工况）。
工程上你可以做成：

* **Bank A（业务）**：所有 Image（OK/NG/Error）= Disable（或仅本地保存）
* **Bank B（诊断）**：Error Image = Send by FTP/SFTP（并设定 JPG 质量/裁剪/缩小等）

至于“Bank 切换”是通过 I/O、网络命令还是 Web Tool/上位机下发，这个要以你手头 SR-X300 的通信/脚本章节为准（不同系列/固件会有差异）；但**“两套参数 + 切换”**是 SR-X 系列本来就支持的方向。

---

## 你还可以在 GPB/FMB 侧加一层“物理隔离”（更保险）

即使误配置了相机，也能保证业务期不进诊断数据：

* 业务模式下：**GPB 不启动 FTP/SFTP server**，或在 FMB 上做 ACL 禁止 21/22 端口
* 诊断模式下：再放开端口/启动服务

---

## 建议选 SFTP 而不是 FTP

SR-X300 明确支持 **FTP 和 SFTP**。([keyence.com.sg][2])
如果现场网络不是完全可信，SFTP（SSH File Transfer Protocol）更省心。

---

如果你把 **SR-X300 的“Image saving / FTP / SFTP”那几页**（或者你现在用的 SR Web Tool 的截图）贴出来，我可以帮你把“业务/诊断两套配置”落到你文档里：包含具体开关项、触发条件（read error vs NG）、以及你现在“写寄存器切换 FMB 模式”时应该联动切哪几项。

[1]: https://www.scribd.com/document/661123136/AS-125905-SR-X-UM-B95GB-WW-GB-2022-2?utm_source=chatgpt.com "As 125905 SR-X Um B95GB WW GB 2022 2"
[2]: https://www.keyence.com.sg/products/barcode/barcode-readers/sr-x/models/sr-x300/?utm_source=chatgpt.com "AI-Powered Code Reader - SR-X300 | KEYENCE Singapore"
